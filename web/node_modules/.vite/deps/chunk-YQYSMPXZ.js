import {
  require_react
} from "./chunk-TG2HHWBU.js";
import {
  __commonJS
} from "./chunk-2GTGKKMZ.js";

// ../node_modules/@redwoodjs/auth/dist/cjs/useAuth.js
var require_useAuth = __commonJS({
  "../node_modules/@redwoodjs/auth/dist/cjs/useAuth.js"(exports, module) {
    "use strict";
    var __create = Object.create;
    var __defProp = Object.defineProperty;
    var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
    var __getOwnPropNames = Object.getOwnPropertyNames;
    var __getProtoOf = Object.getPrototypeOf;
    var __hasOwnProp = Object.prototype.hasOwnProperty;
    var __export = (target, all) => {
      for (var name in all)
        __defProp(target, name, { get: all[name], enumerable: true });
    };
    var __copyProps = (to, from, except, desc) => {
      if (from && typeof from === "object" || typeof from === "function") {
        for (let key of __getOwnPropNames(from))
          if (!__hasOwnProp.call(to, key) && key !== except)
            __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
      }
      return to;
    };
    var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
      // If the importer is in node compatibility mode or this is not an ESM
      // file that has been converted to a CommonJS file using a Babel-
      // compatible transform (i.e. "__esModule" has not been set), then set
      // "default" to the CommonJS "module.exports" for node compatibility.
      isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
      mod
    ));
    var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
    var useAuth_exports = {};
    __export(useAuth_exports, {
      createUseAuth: () => createUseAuth,
      useNoAuth: () => useNoAuth2
    });
    module.exports = __toCommonJS(useAuth_exports);
    var import_react = __toESM(require_react(), 1);
    function createUseAuth(AuthContext) {
      const useAuth = () => {
        const context = import_react.default.useContext(AuthContext);
        if (!context) {
          throw new Error("useAuth must be used within an AuthProvider");
        }
        return context;
      };
      return useAuth;
    }
    function useNoAuth2() {
      return {
        loading: false,
        isAuthenticated: false,
        logIn: async () => {
        },
        logOut: async () => {
        },
        signUp: async () => {
        },
        currentUser: null,
        userMetadata: null,
        getToken: async () => null,
        getCurrentUser: async () => null,
        hasRole: () => false,
        reauthenticate: async () => {
        },
        forgotPassword: async () => {
        },
        resetPassword: async () => {
        },
        validateResetToken: async () => {
        },
        type: "default",
        client: void 0,
        hasError: false
      };
    }
  }
});

// ../node_modules/@redwoodjs/auth/dist/cjs/AuthContext.js
var require_AuthContext = __commonJS({
  "../node_modules/@redwoodjs/auth/dist/cjs/AuthContext.js"(exports, module) {
    "use strict";
    var __create = Object.create;
    var __defProp = Object.defineProperty;
    var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
    var __getOwnPropNames = Object.getOwnPropertyNames;
    var __getProtoOf = Object.getPrototypeOf;
    var __hasOwnProp = Object.prototype.hasOwnProperty;
    var __export = (target, all) => {
      for (var name in all)
        __defProp(target, name, { get: all[name], enumerable: true });
    };
    var __copyProps = (to, from, except, desc) => {
      if (from && typeof from === "object" || typeof from === "function") {
        for (let key of __getOwnPropNames(from))
          if (!__hasOwnProp.call(to, key) && key !== except)
            __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
      }
      return to;
    };
    var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
      // If the importer is in node compatibility mode or this is not an ESM
      // file that has been converted to a CommonJS file using a Babel-
      // compatible transform (i.e. "__esModule" has not been set), then set
      // "default" to the CommonJS "module.exports" for node compatibility.
      isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
      mod
    ));
    var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
    var AuthContext_exports = {};
    __export(AuthContext_exports, {
      createAuthContext: () => createAuthContext
    });
    module.exports = __toCommonJS(AuthContext_exports);
    var import_react = __toESM(require_react(), 1);
    function createAuthContext() {
      return import_react.default.createContext(void 0);
    }
  }
});

// ../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/AuthProviderState.js
var require_AuthProviderState = __commonJS({
  "../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/AuthProviderState.js"(exports, module) {
    "use strict";
    var __defProp = Object.defineProperty;
    var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
    var __getOwnPropNames = Object.getOwnPropertyNames;
    var __hasOwnProp = Object.prototype.hasOwnProperty;
    var __export = (target, all) => {
      for (var name in all)
        __defProp(target, name, { get: all[name], enumerable: true });
    };
    var __copyProps = (to, from, except, desc) => {
      if (from && typeof from === "object" || typeof from === "function") {
        for (let key of __getOwnPropNames(from))
          if (!__hasOwnProp.call(to, key) && key !== except)
            __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
      }
      return to;
    };
    var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
    var AuthProviderState_exports = {};
    __export(AuthProviderState_exports, {
      defaultAuthProviderState: () => defaultAuthProviderState
    });
    module.exports = __toCommonJS(AuthProviderState_exports);
    var defaultAuthProviderState = {
      loading: true,
      isAuthenticated: false,
      userMetadata: null,
      currentUser: null,
      hasError: false
    };
  }
});

// ../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/useToken.js
var require_useToken = __commonJS({
  "../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/useToken.js"(exports, module) {
    "use strict";
    var __defProp = Object.defineProperty;
    var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
    var __getOwnPropNames = Object.getOwnPropertyNames;
    var __hasOwnProp = Object.prototype.hasOwnProperty;
    var __export = (target, all) => {
      for (var name in all)
        __defProp(target, name, { get: all[name], enumerable: true });
    };
    var __copyProps = (to, from, except, desc) => {
      if (from && typeof from === "object" || typeof from === "function") {
        for (let key of __getOwnPropNames(from))
          if (!__hasOwnProp.call(to, key) && key !== except)
            __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
      }
      return to;
    };
    var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
    var useToken_exports = {};
    __export(useToken_exports, {
      useToken: () => useToken
    });
    module.exports = __toCommonJS(useToken_exports);
    var import_react = require_react();
    var useToken = (authImplementation) => {
      return (0, import_react.useCallback)(async () => {
        try {
          const token = await authImplementation.getToken();
          return token;
        } catch (e) {
          console.error("Caught internal:", e);
          return null;
        }
      }, [authImplementation]);
    };
  }
});

// ../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/useCurrentUser.js
var require_useCurrentUser = __commonJS({
  "../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/useCurrentUser.js"(exports, module) {
    "use strict";
    var __defProp = Object.defineProperty;
    var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
    var __getOwnPropNames = Object.getOwnPropertyNames;
    var __hasOwnProp = Object.prototype.hasOwnProperty;
    var __export = (target, all) => {
      for (var name in all)
        __defProp(target, name, { get: all[name], enumerable: true });
    };
    var __copyProps = (to, from, except, desc) => {
      if (from && typeof from === "object" || typeof from === "function") {
        for (let key of __getOwnPropNames(from))
          if (!__hasOwnProp.call(to, key) && key !== except)
            __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
      }
      return to;
    };
    var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
    var useCurrentUser_exports = {};
    __export(useCurrentUser_exports, {
      useCurrentUser: () => useCurrentUser
    });
    module.exports = __toCommonJS(useCurrentUser_exports);
    var import_react = require_react();
    var import_useToken = require_useToken();
    var useCurrentUser = (authImplementation) => {
      const getToken = (0, import_useToken.useToken)(authImplementation);
      return (0, import_react.useCallback)(async () => {
        var _a;
        const token = await getToken();
        const response = await globalThis.fetch(globalThis.RWJS_API_GRAPHQL_URL, {
          method: "POST",
          credentials: "include",
          headers: {
            "content-type": "application/json",
            "auth-provider": authImplementation.type,
            authorization: `Bearer ${token}`
          },
          body: JSON.stringify({
            query: "query __REDWOOD__AUTH_GET_CURRENT_USER { redwood { currentUser } }"
          })
        });
        if (response.ok) {
          const { data } = await response.json();
          return (_a = data == null ? void 0 : data.redwood) == null ? void 0 : _a.currentUser;
        } else {
          throw new Error(
            `Could not fetch current user: ${response.statusText} (${response.status})`
          );
        }
      }, [authImplementation, getToken]);
    };
  }
});

// ../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/useForgotPassword.js
var require_useForgotPassword = __commonJS({
  "../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/useForgotPassword.js"(exports, module) {
    "use strict";
    var __defProp = Object.defineProperty;
    var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
    var __getOwnPropNames = Object.getOwnPropertyNames;
    var __hasOwnProp = Object.prototype.hasOwnProperty;
    var __export = (target, all) => {
      for (var name in all)
        __defProp(target, name, { get: all[name], enumerable: true });
    };
    var __copyProps = (to, from, except, desc) => {
      if (from && typeof from === "object" || typeof from === "function") {
        for (let key of __getOwnPropNames(from))
          if (!__hasOwnProp.call(to, key) && key !== except)
            __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
      }
      return to;
    };
    var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
    var useForgotPassword_exports = {};
    __export(useForgotPassword_exports, {
      useForgotPassword: () => useForgotPassword
    });
    module.exports = __toCommonJS(useForgotPassword_exports);
    var import_react = require_react();
    var useForgotPassword = (authImplementation) => {
      return (0, import_react.useCallback)(
        async (username) => {
          if (authImplementation.forgotPassword) {
            return await authImplementation.forgotPassword(username);
          } else {
            throw new Error(
              `Auth client ${authImplementation.type} does not implement this function`
            );
          }
        },
        [authImplementation]
      );
    };
  }
});

// ../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/useHasRole.js
var require_useHasRole = __commonJS({
  "../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/useHasRole.js"(exports, module) {
    "use strict";
    var __defProp = Object.defineProperty;
    var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
    var __getOwnPropNames = Object.getOwnPropertyNames;
    var __hasOwnProp = Object.prototype.hasOwnProperty;
    var __export = (target, all) => {
      for (var name in all)
        __defProp(target, name, { get: all[name], enumerable: true });
    };
    var __copyProps = (to, from, except, desc) => {
      if (from && typeof from === "object" || typeof from === "function") {
        for (let key of __getOwnPropNames(from))
          if (!__hasOwnProp.call(to, key) && key !== except)
            __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
      }
      return to;
    };
    var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
    var useHasRole_exports = {};
    __export(useHasRole_exports, {
      useHasRole: () => useHasRole
    });
    module.exports = __toCommonJS(useHasRole_exports);
    var import_react = require_react();
    var useHasRole = (currentUser) => {
      return (0, import_react.useCallback)(
        (rolesToCheck) => {
          var _a, _b;
          if (currentUser == null ? void 0 : currentUser.roles) {
            if (typeof rolesToCheck === "string") {
              if (typeof currentUser.roles === "string") {
                return currentUser.roles === rolesToCheck;
              } else if (Array.isArray(currentUser.roles)) {
                return (_a = currentUser.roles) == null ? void 0 : _a.some(
                  (allowedRole) => rolesToCheck === allowedRole
                );
              }
            }
            if (Array.isArray(rolesToCheck)) {
              if (Array.isArray(currentUser.roles)) {
                return (_b = currentUser.roles) == null ? void 0 : _b.some(
                  (allowedRole) => rolesToCheck.includes(allowedRole)
                );
              } else if (typeof currentUser.roles === "string") {
                return rolesToCheck.some(
                  (allowedRole) => (currentUser == null ? void 0 : currentUser.roles) === allowedRole
                );
              }
            }
          }
          return false;
        },
        [currentUser]
      );
    };
  }
});

// ../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/useReauthenticate.js
var require_useReauthenticate = __commonJS({
  "../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/useReauthenticate.js"(exports, module) {
    "use strict";
    var __defProp = Object.defineProperty;
    var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
    var __getOwnPropNames = Object.getOwnPropertyNames;
    var __hasOwnProp = Object.prototype.hasOwnProperty;
    var __export = (target, all) => {
      for (var name in all)
        __defProp(target, name, { get: all[name], enumerable: true });
    };
    var __copyProps = (to, from, except, desc) => {
      if (from && typeof from === "object" || typeof from === "function") {
        for (let key of __getOwnPropNames(from))
          if (!__hasOwnProp.call(to, key) && key !== except)
            __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
      }
      return to;
    };
    var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
    var useReauthenticate_exports = {};
    __export(useReauthenticate_exports, {
      useReauthenticate: () => useReauthenticate
    });
    module.exports = __toCommonJS(useReauthenticate_exports);
    var import_react = require_react();
    var import_useToken = require_useToken();
    var notAuthenticatedState = {
      isAuthenticated: false,
      currentUser: null,
      userMetadata: null,
      loading: false,
      hasError: false
    };
    var useReauthenticate = (authImplementation, setAuthProviderState, getCurrentUser, skipFetchCurrentUser) => {
      const getToken = (0, import_useToken.useToken)(authImplementation);
      return (0, import_react.useCallback)(async () => {
        if (authImplementation.loadWhileReauthenticating) {
          setAuthProviderState((oldState) => ({
            ...oldState,
            loading: true
          }));
        }
        try {
          const userMetadata = await authImplementation.getUserMetadata();
          if (!userMetadata) {
            let loading = false;
            if (authImplementation.clientHasLoaded) {
              loading = !authImplementation.clientHasLoaded();
            }
            setAuthProviderState({
              ...notAuthenticatedState,
              loading,
              client: authImplementation.client
            });
          } else {
            await getToken();
            const currentUser = skipFetchCurrentUser ? null : await getCurrentUser();
            setAuthProviderState((oldState) => ({
              ...oldState,
              userMetadata,
              currentUser,
              isAuthenticated: true,
              loading: false,
              client: authImplementation.client
            }));
          }
        } catch (e) {
          setAuthProviderState({
            ...notAuthenticatedState,
            hasError: true,
            error: e
          });
        }
      }, [
        authImplementation,
        getToken,
        setAuthProviderState,
        skipFetchCurrentUser,
        getCurrentUser
      ]);
    };
  }
});

// ../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/useLogIn.js
var require_useLogIn = __commonJS({
  "../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/useLogIn.js"(exports, module) {
    "use strict";
    var __defProp = Object.defineProperty;
    var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
    var __getOwnPropNames = Object.getOwnPropertyNames;
    var __hasOwnProp = Object.prototype.hasOwnProperty;
    var __export = (target, all) => {
      for (var name in all)
        __defProp(target, name, { get: all[name], enumerable: true });
    };
    var __copyProps = (to, from, except, desc) => {
      if (from && typeof from === "object" || typeof from === "function") {
        for (let key of __getOwnPropNames(from))
          if (!__hasOwnProp.call(to, key) && key !== except)
            __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
      }
      return to;
    };
    var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
    var useLogIn_exports = {};
    __export(useLogIn_exports, {
      useLogIn: () => useLogIn
    });
    module.exports = __toCommonJS(useLogIn_exports);
    var import_react = require_react();
    var import_AuthProviderState = require_AuthProviderState();
    var import_useReauthenticate = require_useReauthenticate();
    var useLogIn = (authImplementation, setAuthProviderState, getCurrentUser, skipFetchCurrentUser) => {
      const reauthenticate = (0, import_useReauthenticate.useReauthenticate)(
        authImplementation,
        setAuthProviderState,
        getCurrentUser,
        skipFetchCurrentUser
      );
      return (0, import_react.useCallback)(
        async (options) => {
          setAuthProviderState(import_AuthProviderState.defaultAuthProviderState);
          const loginResult = await authImplementation.login(options);
          await reauthenticate();
          return loginResult;
        },
        [authImplementation, reauthenticate, setAuthProviderState]
      );
    };
  }
});

// ../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/useLogOut.js
var require_useLogOut = __commonJS({
  "../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/useLogOut.js"(exports, module) {
    "use strict";
    var __defProp = Object.defineProperty;
    var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
    var __getOwnPropNames = Object.getOwnPropertyNames;
    var __hasOwnProp = Object.prototype.hasOwnProperty;
    var __export = (target, all) => {
      for (var name in all)
        __defProp(target, name, { get: all[name], enumerable: true });
    };
    var __copyProps = (to, from, except, desc) => {
      if (from && typeof from === "object" || typeof from === "function") {
        for (let key of __getOwnPropNames(from))
          if (!__hasOwnProp.call(to, key) && key !== except)
            __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
      }
      return to;
    };
    var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
    var useLogOut_exports = {};
    __export(useLogOut_exports, {
      useLogOut: () => useLogOut
    });
    module.exports = __toCommonJS(useLogOut_exports);
    var import_react = require_react();
    var useLogOut = (authImplementation, setAuthProviderState) => {
      return (0, import_react.useCallback)(
        async (options) => {
          const logoutOutput = await authImplementation.logout(options);
          setAuthProviderState({
            userMetadata: null,
            currentUser: null,
            isAuthenticated: false,
            hasError: false,
            error: void 0,
            loading: false
          });
          return logoutOutput;
        },
        [authImplementation, setAuthProviderState]
      );
    };
  }
});

// ../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/useResetPassword.js
var require_useResetPassword = __commonJS({
  "../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/useResetPassword.js"(exports, module) {
    "use strict";
    var __defProp = Object.defineProperty;
    var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
    var __getOwnPropNames = Object.getOwnPropertyNames;
    var __hasOwnProp = Object.prototype.hasOwnProperty;
    var __export = (target, all) => {
      for (var name in all)
        __defProp(target, name, { get: all[name], enumerable: true });
    };
    var __copyProps = (to, from, except, desc) => {
      if (from && typeof from === "object" || typeof from === "function") {
        for (let key of __getOwnPropNames(from))
          if (!__hasOwnProp.call(to, key) && key !== except)
            __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
      }
      return to;
    };
    var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
    var useResetPassword_exports = {};
    __export(useResetPassword_exports, {
      useResetPassword: () => useResetPassword
    });
    module.exports = __toCommonJS(useResetPassword_exports);
    var import_react = require_react();
    var useResetPassword = (authImplementation) => {
      return (0, import_react.useCallback)(
        async (options) => {
          if (authImplementation.resetPassword) {
            return await authImplementation.resetPassword(options);
          } else {
            throw new Error(
              `Auth client ${authImplementation.type} does not implement this function`
            );
          }
        },
        [authImplementation]
      );
    };
  }
});

// ../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/useSignUp.js
var require_useSignUp = __commonJS({
  "../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/useSignUp.js"(exports, module) {
    "use strict";
    var __defProp = Object.defineProperty;
    var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
    var __getOwnPropNames = Object.getOwnPropertyNames;
    var __hasOwnProp = Object.prototype.hasOwnProperty;
    var __export = (target, all) => {
      for (var name in all)
        __defProp(target, name, { get: all[name], enumerable: true });
    };
    var __copyProps = (to, from, except, desc) => {
      if (from && typeof from === "object" || typeof from === "function") {
        for (let key of __getOwnPropNames(from))
          if (!__hasOwnProp.call(to, key) && key !== except)
            __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
      }
      return to;
    };
    var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
    var useSignUp_exports = {};
    __export(useSignUp_exports, {
      useSignUp: () => useSignUp
    });
    module.exports = __toCommonJS(useSignUp_exports);
    var import_react = require_react();
    var import_useReauthenticate = require_useReauthenticate();
    var useSignUp = (authImplementation, setAuthProviderState, getCurrentUser, skipFetchCurrentUser) => {
      const reauthenticate = (0, import_useReauthenticate.useReauthenticate)(
        authImplementation,
        setAuthProviderState,
        getCurrentUser,
        skipFetchCurrentUser
      );
      return (0, import_react.useCallback)(
        async (options) => {
          const signupOutput = await authImplementation.signup(options);
          await reauthenticate();
          return signupOutput;
        },
        [authImplementation, reauthenticate]
      );
    };
  }
});

// ../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/useValidateResetToken.js
var require_useValidateResetToken = __commonJS({
  "../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/useValidateResetToken.js"(exports, module) {
    "use strict";
    var __defProp = Object.defineProperty;
    var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
    var __getOwnPropNames = Object.getOwnPropertyNames;
    var __hasOwnProp = Object.prototype.hasOwnProperty;
    var __export = (target, all) => {
      for (var name in all)
        __defProp(target, name, { get: all[name], enumerable: true });
    };
    var __copyProps = (to, from, except, desc) => {
      if (from && typeof from === "object" || typeof from === "function") {
        for (let key of __getOwnPropNames(from))
          if (!__hasOwnProp.call(to, key) && key !== except)
            __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
      }
      return to;
    };
    var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
    var useValidateResetToken_exports = {};
    __export(useValidateResetToken_exports, {
      useValidateResetToken: () => useValidateResetToken
    });
    module.exports = __toCommonJS(useValidateResetToken_exports);
    var import_react = require_react();
    var useValidateResetToken = (authImplementation) => {
      return (0, import_react.useCallback)(
        async (resetToken) => {
          if (authImplementation.validateResetToken) {
            return await authImplementation.validateResetToken(resetToken);
          } else {
            throw new Error(
              `Auth client ${authImplementation.type} does not implement this function`
            );
          }
        },
        [authImplementation]
      );
    };
  }
});

// ../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/AuthProvider.js
var require_AuthProvider = __commonJS({
  "../node_modules/@redwoodjs/auth/dist/cjs/AuthProvider/AuthProvider.js"(exports, module) {
    "use strict";
    var __create = Object.create;
    var __defProp = Object.defineProperty;
    var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
    var __getOwnPropNames = Object.getOwnPropertyNames;
    var __getProtoOf = Object.getPrototypeOf;
    var __hasOwnProp = Object.prototype.hasOwnProperty;
    var __export = (target, all) => {
      for (var name in all)
        __defProp(target, name, { get: all[name], enumerable: true });
    };
    var __copyProps = (to, from, except, desc) => {
      if (from && typeof from === "object" || typeof from === "function") {
        for (let key of __getOwnPropNames(from))
          if (!__hasOwnProp.call(to, key) && key !== except)
            __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
      }
      return to;
    };
    var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
      // If the importer is in node compatibility mode or this is not an ESM
      // file that has been converted to a CommonJS file using a Babel-
      // compatible transform (i.e. "__esModule" has not been set), then set
      // "default" to the CommonJS "module.exports" for node compatibility.
      isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
      mod
    ));
    var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
    var AuthProvider_exports = {};
    __export(AuthProvider_exports, {
      createAuthProvider: () => createAuthProvider
    });
    module.exports = __toCommonJS(AuthProvider_exports);
    var import_react = __toESM(require_react(), 1);
    var import_AuthProviderState = require_AuthProviderState();
    var import_useCurrentUser = require_useCurrentUser();
    var import_useForgotPassword = require_useForgotPassword();
    var import_useHasRole = require_useHasRole();
    var import_useLogIn = require_useLogIn();
    var import_useLogOut = require_useLogOut();
    var import_useReauthenticate = require_useReauthenticate();
    var import_useResetPassword = require_useResetPassword();
    var import_useSignUp = require_useSignUp();
    var import_useToken = require_useToken();
    var import_useValidateResetToken = require_useValidateResetToken();
    function createAuthProvider(AuthContext, authImplementation, customProviderHooks) {
      const AuthProvider = ({
        children,
        skipFetchCurrentUser
      }) => {
        const [authProviderState, setAuthProviderState] = (0, import_react.useState)(import_AuthProviderState.defaultAuthProviderState);
        const getToken = (0, import_useToken.useToken)(authImplementation);
        const getCurrentUser = (customProviderHooks == null ? void 0 : customProviderHooks.useCurrentUser) ? customProviderHooks.useCurrentUser : (
          // eslint-disable-next-line react-hooks/rules-of-hooks
          (0, import_useCurrentUser.useCurrentUser)(authImplementation)
        );
        const reauthenticate = (0, import_useReauthenticate.useReauthenticate)(
          authImplementation,
          setAuthProviderState,
          getCurrentUser,
          skipFetchCurrentUser
        );
        const hasRole = (customProviderHooks == null ? void 0 : customProviderHooks.useHasRole) ? customProviderHooks.useHasRole(authProviderState.currentUser) : (
          // eslint-disable-next-line react-hooks/rules-of-hooks
          (0, import_useHasRole.useHasRole)(authProviderState.currentUser)
        );
        const signUp = (0, import_useSignUp.useSignUp)(
          authImplementation,
          setAuthProviderState,
          getCurrentUser,
          skipFetchCurrentUser
        );
        const logIn = (0, import_useLogIn.useLogIn)(
          authImplementation,
          setAuthProviderState,
          getCurrentUser,
          skipFetchCurrentUser
        );
        const logOut = (0, import_useLogOut.useLogOut)(authImplementation, setAuthProviderState);
        const forgotPassword = (0, import_useForgotPassword.useForgotPassword)(authImplementation);
        const resetPassword = (0, import_useResetPassword.useResetPassword)(authImplementation);
        const validateResetToken = (0, import_useValidateResetToken.useValidateResetToken)(authImplementation);
        const type = authImplementation.type;
        const client = authImplementation.client;
        (0, import_react.useEffect)(() => {
          async function doRestoreState() {
            var _a;
            await ((_a = authImplementation.restoreAuthState) == null ? void 0 : _a.call(authImplementation));
            reauthenticate();
          }
          doRestoreState();
        }, [reauthenticate]);
        return import_react.default.createElement(
          AuthContext.Provider,
          {
            value: {
              ...authProviderState,
              signUp,
              logIn,
              logOut,
              getToken,
              getCurrentUser,
              hasRole,
              reauthenticate,
              forgotPassword,
              resetPassword,
              validateResetToken,
              client,
              type
            }
          },
          children
        );
      };
      return AuthProvider;
    }
  }
});

// ../node_modules/@redwoodjs/auth/dist/cjs/authFactory.js
var require_authFactory = __commonJS({
  "../node_modules/@redwoodjs/auth/dist/cjs/authFactory.js"(exports, module) {
    "use strict";
    var __defProp = Object.defineProperty;
    var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
    var __getOwnPropNames = Object.getOwnPropertyNames;
    var __hasOwnProp = Object.prototype.hasOwnProperty;
    var __export = (target, all) => {
      for (var name in all)
        __defProp(target, name, { get: all[name], enumerable: true });
    };
    var __copyProps = (to, from, except, desc) => {
      if (from && typeof from === "object" || typeof from === "function") {
        for (let key of __getOwnPropNames(from))
          if (!__hasOwnProp.call(to, key) && key !== except)
            __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
      }
      return to;
    };
    var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
    var authFactory_exports = {};
    __export(authFactory_exports, {
      createAuthentication: () => createAuthentication2
    });
    module.exports = __toCommonJS(authFactory_exports);
    var import_AuthContext = require_AuthContext();
    var import_AuthProvider = require_AuthProvider();
    var import_useAuth = require_useAuth();
    function createAuthentication2(authImplementation, customProviderHooks) {
      const AuthContext = (0, import_AuthContext.createAuthContext)();
      const useAuth = (0, import_useAuth.createUseAuth)(AuthContext);
      const AuthProvider = (0, import_AuthProvider.createAuthProvider)(
        AuthContext,
        authImplementation,
        customProviderHooks
      );
      return { AuthContext, AuthProvider, useAuth };
    }
  }
});

// ../node_modules/@redwoodjs/auth/dist/cjs/index.js
var require_cjs = __commonJS({
  "../node_modules/@redwoodjs/auth/dist/cjs/index.js"(exports, module) {
    "use strict";
    var __defProp = Object.defineProperty;
    var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
    var __getOwnPropNames = Object.getOwnPropertyNames;
    var __hasOwnProp = Object.prototype.hasOwnProperty;
    var __export = (target, all) => {
      for (var name in all)
        __defProp(target, name, { get: all[name], enumerable: true });
    };
    var __copyProps = (to, from, except, desc) => {
      if (from && typeof from === "object" || typeof from === "function") {
        for (let key of __getOwnPropNames(from))
          if (!__hasOwnProp.call(to, key) && key !== except)
            __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
      }
      return to;
    };
    var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
    var src_exports = {};
    __export(src_exports, {
      createAuthentication: () => import_authFactory.createAuthentication,
      useNoAuth: () => import_useAuth.useNoAuth
    });
    module.exports = __toCommonJS(src_exports);
    var import_useAuth = require_useAuth();
    var import_authFactory = require_authFactory();
  }
});

export {
  require_cjs
};
//# sourceMappingURL=chunk-YQYSMPXZ.js.map
