import { useCallback } from "react";
import { defaultAuthProviderState } from "./AuthProviderState.js";
import { useReauthenticate } from "./useReauthenticate.js";
const useLogIn = (authImplementation, setAuthProviderState, getCurrentUser, skipFetchCurrentUser) => {
  const reauthenticate = useReauthenticate(
    authImplementation,
    setAuthProviderState,
    getCurrentUser,
    skipFetchCurrentUser
  );
  return useCallback(
    async (options) => {
      setAuthProviderState(defaultAuthProviderState);
      const loginResult = await authImplementation.login(options);
      await reauthenticate();
      return loginResult;
    },
    [authImplementation, reauthenticate, setAuthProviderState]
  );
};
export {
  useLogIn
};
